---
title: P12973 一道搞笑的构造题 题解
tags: [题解][原创]
categories: [题解]
date: 2025-09-13
description: P12973 一道搞笑的构造题 题解
articleGPT: 这是洛谷P12973 一道搞笑的构造题 的题解，是目前题解区内最短的代码。
---

# P12973 一道搞笑的构造题 题解
[原文链接](https://www.luogu.com.cn/article/opho96fc/edit)
## 题意简述
&nbsp;&nbsp;要求构造一个 $1 \sim n$ 的排列 $a$，使 $a$ 的所有连续子序列中没有出现的最小正整数的和最大，且在所有符合要求的序列中，$a$ 的字典序最小。
## 解题思路
&nbsp;&nbsp;要想让 $a$ 的所有连续子序列中没有出现的最小正整数的和最大，那么 $a$ 中较小的数要被较多的连续子序列包含，同时 $a$ 中较大的数要被较少的子序列包含。  
&nbsp;&nbsp;我们先把 $n$ 和 $n-1$ 分别放在 $a$ 的首尾两端，这样可以使它们被最少的子序列包含。此时整个问题就转化成了规模为 $1 \sim {n-2}$ 的子问题，可以按照同样的逻辑构造下去，直到只剩下一个数字或者一个数字也不剩。  
&nbsp;&nbsp;再考虑使整个序列的字典序最小，我们最终得到的应该是这个：
$${n-1},{n-3},{n-5},\cdots,1,\cdots,{n-4},{n-2},n$$
## 代码实现

```cpp
#include<bits/stdc++.h>
using namespace std;
void work(int x){
    if(x==0)return;
    if(x==1){cout<<"1 ";return;}
    cout<<x-1<<" ";work(x-2);cout<<x<<" ";
}
int main(){
    ios::sync_with_stdio(false);
    cin.tie(0),cout.tie(0);
    int t,n;
    cin>>t;
    while(t--){
        cin>>n;
        work(n);
        cout<<'\n';
    }
    return 0;
}
```
[AC记录](https://www.luogu.com.cn/record/225870119)
