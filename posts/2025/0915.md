---
title: B4210 [常州市赛 2022] 最早对决 题解
tags: [原创]
categories: [题解]
date: 2025-09-15
description: B4210 [常州市赛 2022] 最早对决
articleGPT: 这是关于洛谷B4210 [常州市赛 2022] 最早对决的题解，展示了一种几乎丧心病狂的打表做法。
---
# B4210 [常州市赛 2022] 最早对决
[更好的阅读体验](https://www.luogu.com.cn/article/2fepkt0q)
## 题目简述
&nbsp;&nbsp;有 $128$ 名选手，编号为 $1 \sim 128$。其中有 $32$  名种子选手，编号为 $1 \sim 32$。这 $128$ 名选手将会进行淘汰赛。位置的分配规则如下：  
&nbsp;&nbsp;首先把 $1$ 号选手与 $2$ 号选手分别分配在 $1$ 号和  $128$ 号位置。接下来执行若干轮操作，直到编号为 $3 \sim32$ 的种子选手都被分配到了各自的位置。在第  $i$ 轮操作时，把当前的 $2^i$ 个赛区分为上半赛区与下半赛区，再将接下来的 $2^{i+1}$ 名种子选手随机分配到这些赛区首尾的空位上。最后将所有非种子选手随机分配到剩余的位置上。  
&nbsp;&nbsp;现在如果编号分别为  $S$ 和 $T$ 的选手如果都非常厉害，可以打败除自己以外的所有人，问他们最早会在第几轮比赛相遇。
## 解题思路
&nbsp;&nbsp;很明显，两人中只要有一人不为种子选手，那么他们最早会在第一轮相遇。  
&nbsp;&nbsp;我们注意到，两个选手的位置离的越近，他们相遇的越早。但是选手的位置是随机分配的，我们该怎么办呢？  
&nbsp;&nbsp;~~没错，打表。~~  
&nbsp;&nbsp;我们记录下所有种子选手可能在的所有位置，只要找到一个最小值即可。（注意，两个选手不能在同一个位置）
## 代码实现
```cpp
#include<bits/stdc++.h>
using namespace std;
int s,t,minn=INT_MAX;
int pos[33][16]={
{0},{1},{128},{64,65},{64,65},{32,33,96,97},
{32,33,96,97},{32,33,96,97},{32,33,96,97},
{16,17,48,49,80,81,112,113},{16,17,48,49,80,81,112,113},
{16,17,48,49,80,81,112,113},{16,17,48,49,80,81,112,113},
{16,17,48,49,80,81,112,113},{16,17,48,49,80,81,112,113},
{16,17,48,49,80,81,112,113},{16,17,48,49,80,81,112,113},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121},
{8,9,24,25,40,41,56,57,72,73,88,89,104,105,120,121}
};
int work(int x){
	int res=0;
	while(x){
		res++;
		x=x/2;
	}
	return res;
} 
int main(){
    ios::sync_with_stdio(false);
    cin.tie(0),cout.tie(0);
	cin>>s>>t;
	if(s>32||t>32){
		cout<<1;
		return 0;
	}
	for(int i=0;i<=15;i++){
		if(pos[s][i]==0)break;
		for(int j=0;j<=15;j++){
			if(pos[t][j]==0)break;
            if(pos[s][i]!=pos[t][j])
			  minn=min(minn,abs(pos[s][i]-pos[t][j]));
		}
	}
	cout<<work(minn)<<endl;
	return 0;
} 
```
[AC记录](https://www.luogu.com.cn/record/227809905)
