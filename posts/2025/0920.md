---
title: 题解：P13393 File Fix-it
tags: [原创]
categories: [题解]
date: 2025-09-20
description: 题解：P13393 File Fix-it
articleGPT: 这是洛谷P13393 [GCJ 2010 #1B] File Fix-it 的题解，用的是最普遍的解法。
---
# 题解：P13393 File Fix-it
[原文链接](https://www.luogu.com.cn/article/6740q8z1)
## 题意简述
&nbsp;&nbsp;给出计算机中除根目录外 $n$ 个已存在的目录，问一共需要执行多少次 mkdir 指令才能创建出给出的 $m$ 个目录。
## 解题思路
&nbsp;&nbsp;本题直接模拟。  
&nbsp;&nbsp;为了方便处理，对于每一个目录，如果该目录已存在，那么执行次数为 $0$。否则执行次数加一，将该目录标记为存在，再以同样的方式处理其上级目录。  
&nbsp;&nbsp;具体思路结合代码展示。
## 代码实现

```cpp
#include<bits/stdc++.h>
using namespace std;
map<string,bool>mp;
string x;
int t,n,m,ans=0;
int work(string x){
	if(mp[x]==1||x=="")return 0;//注意，当x为空串时应当直接退出
	else{
		mp[x]=true;
		int f=x.rfind("/");
		x.erase(f,x.size()-f);//转到上一级目录
		return work(x)+1;//操作次数加一
	}
}
int main(){
    ios::sync_with_stdio(false);
    cin.tie(0),cout.tie(0);
    cin>>t;
    for(int l=1;l<=t;l++){
        mp.clear();//多测不清空，含泪见祖宗
		ans=0;
		cin>>n>>m;
		for(int i=1;i<=n;i++){//初始化
			cin>>x;
			while(x.rfind("/")!=-1){
				mp[x]=true;
				x.erase(x.rfind("/"),x.size()-x.rfind("/"));
			}
		}
		for(int i=1;i<=m;i++){
			cin>>x;
			ans+=work(x);//累计答案
		}
		cout<<"Case #"<<l<<": "<<ans<<'\n';
	}
	return 0;
} 
```
[AC记录](https://www.luogu.com.cn/record/226812087)
